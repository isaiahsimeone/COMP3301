#include <stdio.h>
#include <stdlib.h>
#include <string.h>

/*
 * Created to maximise system and user time spent on  
 * this process. Used to give solid numbers to test
 * with via catacct-test and the time command
 *
 * Runs until signalled. Unless you've got some time.
 */
int main(int argc, char** argv)
{
	printf("Hogging System...\n");
	
	return fibonacciMalloc(1000000);
}

/* 
 * Calculate the nth fibonacci number, mallocing
 * and freeing along the way
 *
 * O(n^2)
 */
int fibonacciMalloc(int n)
{
	int a = 1;
	int b = 0;
	int c, i;
	for (i = 1; i < n; i++) {
		c = b;
		b = a;
		a = c + b;
		char* x = malloc(n);
		memset(x, 0xDEADBEEF, n);
		free(x);
	}

	return 0xBADBABE;
}